<html>
<head>
<style>
  .block {
    display: block;
	margin-bottom: 10px;
	width: 100%;
  }
  #imageurl{
    font-size: 14pt;
  }
  #applybutton {
    width: 300px;
	height: 50px;
	margin-bottom: 50px;
  }
  .mid {
    text-align: center;
  }
  #square {
    //border: 2px black solid;
	text-align: center;
	width: 100%;
  }
  #prettyquote {
    width: auto;
	//background: blue;
	font-family: Georgia;
	font-size: 20pt;
	text-align: center;
	padding-bottom: 5px;
  }
</style>
</head>
<body>

<div class="mid">
<div>
  Quote:
  <textarea class="block" id="quote"></textarea>
  Image URL:
  <input id="imageurl" class="block" value=""></input>
  <input id="applybutton" type="button" value="Apply" onclick="apply();"></input>
</div>

<div id="square">
  <div id="prettyquote"></div>
  <img id="author"></img>
</div>
</div>

<script>
var square = document.getElementById("square");
w = square.offsetWidth;
h = w;
square.style.height = h + "px";

var quote = document.getElementById("quote");
var prettyquote = document.getElementById("prettyquote");

var imageurl = document.getElementById("imageurl");
var author = document.getElementById("author");

function apply(){
  quoteless = quote.value.replace(/\"/g, "");
  quoteparts = quoteless.split("\n");
  quoteformatted = "\"" + quoteparts[0] + "\"<br><br>" + quoteparts[2];
  prettyquote.innerHTML = quoteformatted
  //parts = quote.value.split("\n");
  //prettyquote.innerHTML = "\"" + parts[0] + "\"<br><br>- " + parts[1];
  author.src = imageurl.value;
  imageheight = h - prettyquote.offsetHeight;
  author.style.height = imageheight + "px";
}
</script>
</body>
</html>